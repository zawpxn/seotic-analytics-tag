___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Seotic Analytics Tag",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Easy to add Seotic Analytics Tag",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "webToken",
    "displayName": "webToken",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const encodeUriComponent = require('encodeUriComponent');
const logToConsole = require('logToConsole');

if (!data.webToken) {
  logToConsole('Seotic Tag: Missing webToken');
  data.gtmOnFailure();
  return;
}

const encodedToken = encodeUriComponent(data.webToken);
const url = 'https://app.seotic.co/pixel.js?id=' + encodedToken;

const script = injectScript(
  url,
  function () { data.gtmOnSuccess(); },
  function () { data.gtmOnFailure(); }
);

// Optional: Set `defer` only if `injectScript` returns a valid object
if (script) {
  script.defer = true;
} else {
  logToConsole('injectScript failed to return a script element.');
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://app.seotic.co/pixel.js*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []
setup: ''


___NOTES___

Created on 22/07/2025, 00:49:52


